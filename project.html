<!DOCTYPE html>

<!-- Norette Vulkan, Data Science, Project page, 2021 -->


<!-- ///////////////////  HEAD //////////////////////////////////// -->

<head>
  
      <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=0.9">

<!--The next three lines allow the Vega embed-->
<script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>
  <link rel="stylesheet" href="projectindex.css">
 
  <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');
    </style>

  

</head>


<!-- ///////////////////  START BODY //////////////////////////////////// -->

<body>
 <h1> Explaining Happiness </h1>
<p> I was curious to better understand what makes a country "happy" after spending a year living in Denmark, which consistently ranks in the top 5 in the World Happiness Index. 
  The World Happiness Report was first released in 2012 and ranks countries based on life evaluations from samples of each countries' population. </p>

  <!--Chart 3 -->
 <p> This map visualises the happiness scores of different countries in the 2021 Happiness Index: </p>
     <div class="container">
 
       <div class="chart" id="chart3">
      <script>
        var myChart3 = "happinessmap.json";
        vegaEmbed('#chart3', myChart3);
      </script>
  </div>
       
  </div>  
  <p> <a class="textLink" href="https://colab.research.google.com/drive/1KWhZ_eQOYD1PQx5l51stVz-ZaZbXa6Fo?usp=sharing"> Python notebook </a> </p>
  <h3> What makes countries happy? </h3>
 <p> An obvious answer is that wealthier countries will be happier because people enjoy higher incomes and have access to better resources and infrastructure. 
   I regressed happiness against log GDP per capita, using <a class="textLink" href="https://colab.research.google.com/drive/1XVn-Z4OewZf5TbazZ7hb3uPoaN68Ou3x?usp=sharing"> python </a> </p>
  <p> I used the dataset from the World Happiness Index which has observations  beginning in 2008, meaning there were 1000s of observations used to make the regression. Using OLS
    the relationship was found to be: Happiness=-1.69+0.765(Log GDP per capita). The coefficient suggests a 1% increase in GDP per capita would lead to a 0.765% increase in happiness rating. However,
    results are likely to be biased due to endogeneity issues. It is more useful therefore, to just consider the correlation. </p>
  <p> This graph shows the correlation between Log GDP per capita and Happiness rating, using data from 2008-2020: </p>
  <!--Chart 6-->
  <div class="container">
      <div class="chart" id="chart6">
      <script>
        var myChart6 = "happinessvsgdp.json";
        vegaEmbed('#chart6', myChart6);
      </script>
  </div>
  </div>
  <p> We can see positive correlation between GDP and happiness, with a R2 of 0.62. </p>
  <!--Chart 1 -->
 <p>The world happiness report bases life evaluations on 6 factors: levels of GDP, life expectancy, generosity, social support, freedom and corruption. 
   This graph shows the extent to which each factor is estimated to contribute to making life evaluations higher in each country than they are in Dystopia, a hypothetical country that has values equal to the worldâ€™s lowest national averages for each of the six factors.
 </p> 
 <div class="container">
  <div class="chart" id="chart1">
      <script>
        var myChart1 = "top5_barchart_new.json";
        vegaEmbed('#chart1', myChart1);
      </script>
  </div>
  </div>
  <p> GDP per capita makes up the biggest identifiable contribution to happiness, but we can see that a large part of happiness is left unexplained by the 6 factors used by the World Happiness Index.
  </p>
  
  <h3> Looking for other correlations </h3>
  <p> The World Happiness Report ackowledges that there are other factors which affect happiness and are not yet included in the report. They also highlight
    that the variables are intended to illustrate correlation rather than to reflect clean causal estimates. Finding causal estimates of the effect of each factor on happiness would cause significant 
    endogeneity issues. </p>
  <p> I decided to look for evidence of correlation between happiness and other factors excluded in the report. 
    This could  help explain the large unexplained "residual" contribution to countries happiness. </p>
  <p> First, I looked at gender equality and happiness. I used data scraped from the UNDP Global Inequality Index (<a class="textLink" href="https://colab.research.google.com/drive/10z_rE9OBbtQk1N4PPNCrcI5aYmaDI_fj?usp=sharing"> python code </a>)
    to look for correlation between Gender inequality and happiness: </p>
    <!--Chart 4 -->
<div class="container">
  <div class="chart" id="chart4">
      <script>
        var myChart4 = "genderequalityvshappiness.json";
        vegaEmbed('#chart4', myChart4);
      </script>
  </div>
  </div>
  <p> The graph suggests a negative correlation between gender inequality and happiness. Unfortunately I had to use 2019 data since this was the most recent Gender Inequality Index data that I could find. </p>
  <p> The writers of the World Happiness Report have made a paper comparing happiness ratings with countries Sustainable Development Goal scores. The Sustainable Development Goals were adopted by all member states of the UN in 2015 and 
    "describe a universal agenda that applies to and must be implemented by all countries." There are 17 Goals: </p>
    <div class="container">
      <div class="pngchart">
        <img src = "SDG_goals_resize.png" >
      </div>
  </div>
  <p> The research found the strongest correlations between happiness scores and Goal 9 and Goal 12.
    I downloaded the data to show these correlations graphically. The SDG dataset was massive and I used both excel and python to clean the data and then python to combine it with the happiness data and run regressions.
 My python workbook is <a class="textLink" href="https://colab.research.google.com/drive/1GPiiVQEiXapGzrSE10E-Uz4fNl0XnbfO?usp=sharing"> here </a>. </p>
  <p> Firstly, I looked for the correlation between Happiness and Goal 9- Industry, Innovation and Infrastructure: </p>
   <!--Chart 7-->
  <div class="container">
      <div class="chart" id="chart7">
      <script>
        var myChart7 = "Happiness_sdg9.json";
        vegaEmbed('#chart7', myChart7);
      </script>
  </div>
  </div>
  <p> As expected, there appears to be strong positive correlation. I ran an OLS Regression on Python and found the R^2 value to be 0.617 (3.d.p). </p>
  <p> Next, I looked at the correlation between Happiness and Goal 12- responsible consumption and production. The result is more surprising: </p>
   <!--Chart 8-->
  <div class="container">
      <div class="chart" id="chart8">
      <script>
        var myChart8 = "happiness_sdg12.json";
        vegaEmbed('#chart8', myChart8);
      </script>
  </div>
  </div>
  <p> The graph suggests a negative correlation between the 2. The R^2 was 0.538. </p>
  </body>
<!-- ///////////////////  END BODY //////////////////////////////////// -->

</html>
  

  
